"use strict";var _Validator;function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var clotherJson=[{id:1,name:"Roupa 1",img:"../public/img/roupa-1.png",price:20.19,sizes:["P","M","G"],description:"LOREM"},{id:2,name:"Roupa 2",img:"../public/img/roupa-2.png",price:18,sizes:["P","M","G"],description:"LOREM"},{id:3,name:"Roupa 3",img:"../public/img/roupa-3.png",price:17.45,sizes:["P","M","G"],description:"LOREM"},{id:4,name:"Roupa 4",img:"../public/img/roupa-4.png",price:19.77,sizes:["P","M","G"],description:"LOREM"},{id:5,name:"Roupa 5",img:"../public/img/roupa-5.png",price:21.43,sizes:["P","M","G"],description:"LOREM"},{id:6,name:"Roupa 6",img:"../public/img/roupa-6.png",price:18.55,sizes:["P","M","G"],description:"LOREM"},{id:7,name:"Roupa 7",img:"../public/img/roupa-7.png",price:22.36,sizes:["P","M","G"],description:"LOREM"},{id:8,name:"Roupa 8",img:"../public/img/roupa-8.png",price:22.36,sizes:["P","M","G"],description:"LOREM"}],cart=[],modalQt=1,modalKey=0,c=function(e){return document.querySelector(e)},cs=function(e){return document.querySelectorAll(e)};function closeModal(){c(".clotherWindowArea").style.opacity=0,setTimeout(function(){c(".clotherWindowArea").style.display="none"},500)}function updateCart(){if(0<cart.length){var e,i=0,t=0,r=0;c(".cart").innerHTML="";for(e in cart)!function(t){var e=clotherJson.find(function(e){return e.id===cart[t].id}),r=(i+=e.price*cart[t].qt,c(".models .cart--item").cloneNode(!0)),o=void 0;switch(cart[t].size){case 0:o="P";break;case 1:o="M";break;case 2:o="G"}var n="".concat(e.name," (").concat(o,")");r.querySelector("img").src=e.img,r.querySelector(".cart--item-name").innerHTML=n,r.querySelector(".cart--item--qt").innerHTML=cart[t].qt,r.querySelector(".cart--item-qtmenos").addEventListener("click",function(){1<cart[t].qt?cart[t].qt--:cart.splice(t,1),updateCart()}),r.querySelector(".cart--item-qtmais").addEventListener("click",function(){cart[t].qt++,updateCart()}),c(".cart").append(r)}(e);r=i-(t=.1*i),c(".subtotal span:last-child").innerHTML="R$ ".concat(i.toFixed(2)),c(".desconto span:last-child").innerHTML="R$ ".concat(t.toFixed(2)),c(".total span:last-child").innerHTML="R$ ".concat(r.toFixed(2))}else c(".offcanvas",".offcanvas-end ").classList.remove("show"),c(".modal-backdrop","fade").classList.remove("show")}function finish(){return c(".cart--finalizar").addEventListener(alert("Preencher os dados do formulario de contato"))}clotherJson.map(function(e,t){var r=document.querySelector(".models .clother-item ").cloneNode(!0);r.setAttribute("data-key",t),r.querySelector(".clother-item--img img").src=e.img,r.querySelector(".clother-item--name").innerHTML=e.name,r.querySelector(".clother-item--desc").innerHTML=e.description,r.querySelector(".clother-item--price").innerHTML="R$ ".concat(e.price.toFixed(2)),r.querySelector("a").addEventListener("click",function(e){e.preventDefault();var r=e.target.closest(".clother-item").getAttribute("data-key");modalQt=1,modalKey=r,c(".clotherBig img").src=clotherJson[r].img,c(".clotherInfo h1").innerHTML=clotherJson[r].name,c(".clotherInfo--desc").innerHTML=clotherJson[r].description,c(".clotherInfo--actualPrice").innerHTML="R$ ".concat(clotherJson[r].price.toFixed(2)),c(".clotherInfo--size.selected").classList.remove("selected"),cs(".clotherInfo--size").forEach(function(e,t){1==t&&e.classList.add("selected"),e.querySelector("span").innerHTML=clotherJson[r].sizes[t]}),c(".clotherInfo--qt").innerHTML=modalQt,c(".clotherWindowArea").style.opacity=.5,c(".clotherWindowArea").style.display="flex",setTimeout(function(){c(".clotherWindowArea").style.opacity=1},200)}),c(".clother-area").append(r)}),cs(".clotherInfo--cancelButton , clotherInfo--cancelMobileButton").forEach(function(e){e.addEventListener("click",closeModal)}),c(".clotherInfo--qtmenos").addEventListener("click",function(){1<modalQt&&(modalQt--,c(".clotherInfo--qt").innerHTML=modalQt)}),c(".clotherInfo--qtmais").addEventListener("click",function(){modalQt++,c(".clotherInfo--qt").innerHTML=modalQt}),cs(".clotherInfo--size").forEach(function(t,e){t.addEventListener("click",function(e){c(".clotherInfo--size.selected").classList.remove("selected"),t.classList.add("selected")})}),c(".clotherInfo--addButton").addEventListener("click",function(){var e=parseInt(c(".clotherInfo--size.selected").getAttribute("data-key")),t=clotherJson[modalKey].id+"@"+e,r=cart.findIndex(function(e){return e.identifier==t});-1<r?cart[r].qt+=modalQt:cart.push({identifier:t,id:clotherJson[modalKey].id,size:e,qt:modalQt}),updateCart(),closeModal()});var textArea=document.querySelector(".text__area"),Validator=(_defineProperty(_Validator={handleSubmit:function(e){e.preventDefault();var t=!0,r=form.querySelectorAll("input");Validator.clearErrors();for(var o=0;o<r.length;o++){var c=r[o],n=Validator.checkInput(c);!0!==n&&(t=!1,Validator.showError(c,n))}t&&(alert("cadastro realizado"),form.reset())},showError:function(e,t){e.style.borderColor="#FF0000";var r=document.createElement("div");r.classList.add("error"),r.innerHTML=t,e.parentElement.insertBefore(r,e.ElementSibling)},clearErrors:function(){for(var e=form.querySelectorAll("input"),t=0;t<e.length;t++)e[t].style="";for(var r=document.querySelectorAll(".error"),o=0;o<r.length;o++)r[o].remove()},checkInput:function(e){var t=e.getAttribute("data-rules");if(null!==t)for(var r in t=t.split("|")){var o=t[r].split("=");switch(o[0]){case"required":if(""==e.value)return"Campo não pode ser vazio.";break;case"min":if(e.value.length<o[1])return"Campo tem que ter pelo menos "+o[1]+" caractes";break;case"mintel":if(e.value.length<o[1])return"Telefone Incompleto ";break;case"email":if(""!=e.value)if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value.toLowerCase()))return"E-mail digitado não é válido!";break;case"uf":if(""!=e.value)if(!/^[a-zA-Z]+$/.test(e.value.toLowerCase()))return"uf invalido"}}return!0}},"showError",function(e,t){e.style.borderColor="#FF0000";var r=document.createElement("div");r.classList.add("error"),r.innerHTML=t,e.parentElement.insertBefore(r,e.ElementSibling)}),_defineProperty(_Validator,"clearErrors",function(){for(var e=form.querySelectorAll("input"),t=0;t<e.length;t++)e[t].style="";for(var r=document.querySelectorAll(".error"),o=0;o<r.length;o++)r[o].remove()}),_Validator),form=($(".cep").mask("00000-000"),$(".phone_with_ddd").mask("(00) 0000-00000"),$(".alpha-no-spaces").mask("A",{translation:{A:{pattern:/[\w@\-.+]/,recursive:!0}}}),document.querySelector(".Validator"));form.addEventListener("submit",Validator.handleSubmit);